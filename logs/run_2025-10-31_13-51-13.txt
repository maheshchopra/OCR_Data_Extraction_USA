=== Utility Bills Processing Run @ 2025-10-31_13-51-13 ===
Python: 3.12.11  PID: 614740
Working dir: C:\Users\tejas\Documents\Utility Bills Project\version_1
===============================================

Found 3 PDF file(s) in inbox folder:
  1. City Of Redmond Utility Billing.pdf
  2. EVERETT PUBLIC WORKS.pdf
  3. Kent Utility.pdf

============================================================
STARTING BATCH PROCESSING
============================================================
Total files: 3
Batch size: 20
Total batches: 1
============================================================

============================================================
PROCESSING BATCH 1 of 1 (3 files)
============================================================

[1.1] Processing: City Of Redmond Utility Billing.pdf
Detected company: City of Redmond - Using specialized template
Converting PDF to images...
Extracting text from 1 page(s) using OCR...
  Processing page 1/1...
Sending extracted text to GPT-4o for analysis...
Debug - organize_files called with result keys: ['account_number', 'customer_name', 'service_address', 'billing_address', 'previous_balance', 'current_billing', 'current_adjustments', 'total_amount_due', 'total_amount_due_date', 'bill_date', 'number_of_days', 'payment_information', 'payments_applied', 'adjustments', 'taxes', 'service_types', 'billing_validation', 'agency_information', 'account_information', 'bill_details', 'current_charges', 'bill_summary', 'source_file']
Debug - success_indicators: [False, True, False, False, False]
Debug - indicator types: [<class 'bool'>, <class 'bool'>, <class 'bool'>, <class 'bool'>, <class 'bool'>]
 Moved PDF to unprocessed/pdf/City Of Redmond Utility Billing.pdf
Saved JSON to unprocessed/json/City Of Redmond Utility Billing.json
Incomplete extraction for City Of Redmond Utility Billing.pdf

[1.2] Processing: EVERETT PUBLIC WORKS.pdf
Detected company: Everett Public Works - Using specialized template
Converting PDF to images...
Extracting text from 1 page(s) using OCR...
  Processing page 1/1...
Sending extracted text to GPT-4o for analysis...
Debug - organize_files called with result keys: ['account_number', 'customer_name', 'service_address', 'billing_address', 'previous_balance', 'current_billing', 'current_adjustments', 'total_amount_due', 'total_amount_due_date', 'bill_date', 'number_of_days', 'payment_information', 'payments_applied', 'adjustments', 'taxes', 'service_types', 'billing_validation', 'everett_contact_info', 'everett_account_info', 'everett_bill_details', 'everett_current_charges', 'everett_totals', 'everett_consumption', 'source_file']
Debug - success_indicators: [True, True, True, True, False]
Debug - indicator types: [<class 'bool'>, <class 'bool'>, <class 'bool'>, <class 'bool'>, <class 'bool'>]
 Moved PDF to processed/pdf/EVERETT PUBLIC WORKS.pdf
Saved JSON to processed/json/EVERETT PUBLIC WORKS.json
Successfully processed EVERETT PUBLIC WORKS.pdf

[1.3] Processing: Kent Utility.pdf
Detected company: Kent Utility - Using specialized template
Converting PDF to images...
Extracting text from 1 page(s) using OCR...
  Processing page 1/1...
Sending extracted text to GPT-4o for analysis...
Debug - organize_files called with result keys: ['account_number', 'customer_name', 'service_address', 'billing_address', 'previous_balance', 'current_billing', 'current_adjustments', 'total_amount_due', 'total_amount_due_date', 'bill_date', 'number_of_days', 'payment_information', 'payments_applied', 'adjustments', 'taxes', 'service_types', 'billing_validation', 'kent_remit_payment_to', 'kent_payment_website', 'kent_account_info', 'kent_bill_details', 'kent_current_charges', 'kent_totals', 'source_file']
Debug - success_indicators: [True, True, True, True, False]
Debug - indicator types: [<class 'bool'>, <class 'bool'>, <class 'bool'>, <class 'bool'>, <class 'bool'>]
 Moved PDF to processed/pdf/Kent Utility.pdf
Saved JSON to processed/json/Kent Utility.json
Successfully processed Kent Utility.pdf

============================================================
BATCH 1 SUMMARY
============================================================
Files in batch: 3
Successfully processed: 2
Failed/Incomplete: 1

============================================================
FINAL PROCESSING SUMMARY
============================================================
Total files processed: 3
Successfully extracted: 2
Incomplete/Failed: 1

Files organized into:
  - processed/pdf: 2 files
  - processed/json: 2 files
  - unprocessed/pdf: 1 files
  - unprocessed/json: 1 files
